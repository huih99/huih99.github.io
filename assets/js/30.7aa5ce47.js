(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{281:function(e,r,t){"use strict";t.r(r);var _=t(0),n=Object(_.a)({},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"js相等比较算法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#js相等比较算法","aria-hidden":"true"}},[e._v("#")]),e._v(" js相等比较算法")]),e._v(" "),t("h2",{attrs:{id:"_1-严格相等-（-）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-严格相等-（-）","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.严格相等 （===）")]),e._v(" "),t("p",[e._v("比较 x === y:")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-11.9.6",target:"_blank",rel:"noopener noreferrer"}},[e._v("参考链接"),t("OutboundLink")],1)]),e._v(" "),t("ol",[t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is different from "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("y")]),e._v("), return "),t("strong",[e._v("false")])]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is Undefined, return "),t("strong",[e._v("true")])]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is Null, return "),t("strong",[e._v("true")])]),e._v(" "),t("li",[e._v("If  "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is Number, then\n"),t("ol",[t("li",[e._v("If "),t("em",[e._v("x")]),e._v(" is "),t("strong",[e._v("NaN")]),e._v(", return "),t("strong",[e._v("false")])]),e._v(" "),t("li",[e._v("If "),t("em",[e._v("y")]),e._v(" is "),t("strong",[e._v("NaN")]),e._v(", return "),t("strong",[e._v("false")])]),e._v(" "),t("li",[e._v("If "),t("em",[e._v("x")]),e._v(" is the same Number value as "),t("em",[e._v("y")]),e._v(", return "),t("strong",[e._v("true")])]),e._v(" "),t("li",[e._v("If "),t("em",[e._v("x")]),e._v(" is "),t("strong",[e._v("+0")]),e._v(" and "),t("em",[e._v("y")]),e._v(" is "),t("strong",[e._v("−0")]),e._v(", return "),t("strong",[e._v("true")])]),e._v(" "),t("li",[e._v("If "),t("em",[e._v("x")]),e._v(" is "),t("strong",[e._v("−0")]),e._v(" and "),t("em",[e._v("y")]),e._v(" is "),t("strong",[e._v("+0")]),e._v(", return "),t("strong",[e._v("true")])]),e._v(" "),t("li",[e._v("Return "),t("strong",[e._v("false")])])])]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is String, then return "),t("strong",[e._v("true")]),e._v(" if "),t("em",[e._v("x")]),e._v(" and "),t("em",[e._v("y")]),e._v(" are exactly the same sequence of characters (same length and same characters in corresponding positions); otherwise, return "),t("strong",[e._v("false")])]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is Boolean, return "),t("strong",[e._v("true")]),e._v(" if "),t("em",[e._v("x")]),e._v(" and "),t("em",[e._v("y")]),e._v(" are both "),t("strong",[e._v("true")]),e._v(" or both "),t("strong",[e._v("false")]),e._v("; otherwise, return "),t("strong",[e._v("false")])]),e._v(" "),t("li",[e._v("Return "),t("strong",[e._v("true")]),e._v(" if "),t("em",[e._v("x")]),e._v(" and "),t("em",[e._v("y")]),e._v(" refer to the same object. Otherwise, return "),t("strong",[e._v("false")])])]),e._v(" "),t("h2",{attrs:{id:"_2-非严格相等-（-）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-非严格相等-（-）","aria-hidden":"true"}},[e._v("#")]),e._v(" 2. 非严格相等 （==）")]),e._v(" "),t("p",[e._v("比较 x == y:")]),e._v(" "),t("ol",[t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is the same as "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("y")]),e._v(") , then\n"),t("ol",[t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is Undefined, return "),t("strong",[e._v("true")]),e._v(".")]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is Null, return "),t("strong",[e._v("true")]),e._v(".")]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is Number, then\n"),t("ol",[t("li",[e._v("If "),t("em",[e._v("x")]),e._v(" is "),t("strong",[e._v("NaN")]),e._v(", return "),t("strong",[e._v("false")]),e._v(".")]),e._v(" "),t("li",[e._v("If "),t("em",[e._v("y")]),e._v(" is "),t("strong",[e._v("NaN")]),e._v(", return "),t("strong",[e._v("false")]),e._v(".")]),e._v(" "),t("li",[e._v("If "),t("em",[e._v("x")]),e._v(" is the same Number value as "),t("em",[e._v("y")]),e._v(", return "),t("strong",[e._v("true")]),e._v(".")]),e._v(" "),t("li",[e._v("If "),t("em",[e._v("x")]),e._v(" is "),t("strong",[e._v("+0")]),e._v(" and "),t("em",[e._v("y")]),e._v(" is "),t("strong",[e._v("−0")]),e._v(", return "),t("strong",[e._v("true")]),e._v(".")]),e._v(" "),t("li",[e._v("If "),t("em",[e._v("x")]),e._v(" is "),t("strong",[e._v("−0")]),e._v(" and "),t("em",[e._v("y")]),e._v(" is "),t("strong",[e._v("+0")]),e._v(", return "),t("strong",[e._v("true")]),e._v(".")]),e._v(" "),t("li",[e._v("Return "),t("strong",[e._v("false")]),e._v(".")])])]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is String, then return "),t("strong",[e._v("true")]),e._v(" if "),t("em",[e._v("x")]),e._v(" and "),t("em",[e._v("y")]),e._v(" are exactly the same sequence of characters (same length and same characters in corresponding positions). Otherwise, return "),t("strong",[e._v("false")]),e._v(".")]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is Boolean, return "),t("strong",[e._v("true")]),e._v(" if "),t("em",[e._v("x")]),e._v(" and "),t("em",[e._v("y")]),e._v(" are both "),t("strong",[e._v("true")]),e._v(" or both "),t("strong",[e._v("false")]),e._v(". Otherwise, return "),t("strong",[e._v("false")]),e._v(".")]),e._v(" "),t("li",[e._v("Return "),t("strong",[e._v("true")]),e._v(" if "),t("em",[e._v("x")]),e._v(" and "),t("em",[e._v("y")]),e._v(" refer to the same object. Otherwise, return "),t("strong",[e._v("false")]),e._v(".")])])]),e._v(" "),t("li",[e._v("If "),t("em",[e._v("x")]),e._v(" is "),t("strong",[e._v("null")]),e._v(" and "),t("em",[e._v("y")]),e._v(" is "),t("strong",[e._v("undefined")]),e._v(", return "),t("strong",[e._v("true")]),e._v(".")]),e._v(" "),t("li",[e._v("If "),t("em",[e._v("x")]),e._v(" is "),t("strong",[e._v("undefined")]),e._v(" and "),t("em",[e._v("y")]),e._v(" is "),t("strong",[e._v("null")]),e._v(", return "),t("strong",[e._v("true")]),e._v(".")]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is Number and "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("y")]),e._v(") is String,\nreturn the result of the comparison "),t("em",[e._v("x")]),e._v(" == "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-9.3",target:"_blank",rel:"noopener noreferrer"}},[e._v("ToNumber"),t("OutboundLink")],1),e._v("("),t("em",[e._v("y")]),e._v(").")]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is String and "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("y")]),e._v(") is Number,\nreturn the result of the comparison "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-9.3",target:"_blank",rel:"noopener noreferrer"}},[e._v("ToNumber"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") == "),t("em",[e._v("y")]),e._v(".")]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is Boolean, return the result of the comparison "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-9.3",target:"_blank",rel:"noopener noreferrer"}},[e._v("ToNumber"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") == "),t("em",[e._v("y")]),e._v(".")]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("y")]),e._v(") is Boolean, return the result of the comparison "),t("em",[e._v("x")]),e._v(" == "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-9.3",target:"_blank",rel:"noopener noreferrer"}},[e._v("ToNumber"),t("OutboundLink")],1),e._v("("),t("em",[e._v("y")]),e._v(").")]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is either String or Number and "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("y")]),e._v(") is Object,\nreturn the result of the comparison "),t("em",[e._v("x")]),e._v(" == "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-9.1",target:"_blank",rel:"noopener noreferrer"}},[e._v("ToPrimitive"),t("OutboundLink")],1),e._v("("),t("em",[e._v("y")]),e._v(").")]),e._v(" "),t("li",[e._v("If "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") is Object and "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Type"),t("OutboundLink")],1),e._v("("),t("em",[e._v("y")]),e._v(") is either String or Number,\nreturn the result of the comparison "),t("a",{attrs:{href:"https://262.ecma-international.org/5.1/#sec-9.1",target:"_blank",rel:"noopener noreferrer"}},[e._v("ToPrimitive"),t("OutboundLink")],1),e._v("("),t("em",[e._v("x")]),e._v(") == "),t("em",[e._v("y")]),e._v(".")]),e._v(" "),t("li",[e._v("Return "),t("strong",[e._v("false")]),e._v(".")])]),e._v(" "),t("p",[e._v("这个算法中有个比较重要的求值算法 "),t("strong",[e._v("toPrimitive")]),e._v("，这是一个内部方法，用来计算对象类型的原始值，也就是将"),t("strong",[e._v("object")]),e._v("类型转换为非"),t("strong",[e._v("object")]),e._v("类型，用法："),t("code",[e._v("toPrimitive(x,prefferedType?)")]),e._v("，其中"),t("code",[e._v("x")]),e._v("为输入值，"),t("code",[e._v("prefferedType")]),e._v("为可选参数，表明想转换为的类型（string 或者 number）,在不传递此参数情况下，默认认为是需要转出number类型值。")]),e._v(" "),t("p",[e._v("求值过程如下：")]),e._v(" "),t("ol",[t("li",[e._v("prefferedType ?= number\n"),t("ol",[t("li",[e._v("尝试调用"),t("code",[e._v("x.valueOf")]),e._v("方法,如果该方法存在，且结果值是一个原始值，则返回该值")]),e._v(" "),t("li",[e._v("尝试调用"),t("code",[e._v("x.toString")]),e._v("方法，如果该方法存在，且结果值是一个原始值，则返回该值")]),e._v(" "),t("li",[e._v("抛出"),t("code",[e._v("TypeError")]),e._v("异常")])])]),e._v(" "),t("li",[e._v("prefferedType = string\n"),t("ol",[t("li",[e._v("尝试调用"),t("code",[e._v("x.toString")]),e._v("方法,如果该方法存在，且结果值是一个原始值，则返回该值")]),e._v(" "),t("li",[e._v("尝试调用"),t("code",[e._v("x.valueOf")]),e._v("方法，如果该方法存在，且结果值是一个原始值，则返回该值")]),e._v(" "),t("li",[e._v("抛出"),t("code",[e._v("TypeError")]),e._v("异常")])])])]),e._v(" "),t("h2",{attrs:{id:"_3-同值相等（object-is）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-同值相等（object-is）","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.同值相等（Object.is）")]),e._v(" "),t("p",[t("code",[e._v("Object.is(x, y)")]),e._v("比较两值是否相同")]),e._v(" "),t("p",[e._v("规则如下：")]),e._v(" "),t("ol",[t("li",[e._v("x, y类型都为"),t("code",[e._v("undefined")]),e._v("，true")]),e._v(" "),t("li",[e._v("x, y类型都为"),t("code",[e._v("null")]),e._v("，true")]),e._v(" "),t("li",[e._v("x, y类型都为"),t("code",[e._v("string")]),e._v("，且长度和字符以及顺序一致，true")]),e._v(" "),t("li",[e._v("x, y类型都为引用类型，并且引用都是内存中同一个对象，true")]),e._v(" "),t("li",[e._v("x, y类型都为number\n"),t("ol",[t("li",[e._v("x, y都为 +0，true")]),e._v(" "),t("li",[e._v("x, y都为 -0，true")]),e._v(" "),t("li",[e._v("x, y都为 NaN, true")]),e._v(" "),t("li",[e._v("x, y都为非零和非NaN的值，且值相同， true")])])]),e._v(" "),t("li",[e._v("false")])])])},[],!1,null,null,null);r.default=n.exports}}]);