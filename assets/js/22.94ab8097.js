(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{271:function(s,t,n){"use strict";n.r(t);var a=n(0),e=Object(a.a)({},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"变量取值与赋值和声明提前的关系"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#变量取值与赋值和声明提前的关系","aria-hidden":"true"}},[s._v("#")]),s._v(" 变量取值与赋值和声明提前的关系")]),s._v(" "),n("p",[s._v("在js中，存在着声明提前的行为，var 生命和function声明都会提前，如果同时存在着一个变量的var声明和function声明，那么function声明会覆盖var声明。")]),s._v(" "),n("p",[s._v("对于一个未声明的变量进行赋值操作，js引擎会由内向外一直查找到全局作用域，如果知道全局作用域都没有查找到这个变量，那么这个变量最终会成为一个全局变量（非严格模式下）。注意：没有使用var或function声明的变量不会存在声明提前的操作，对一个未声明的变量赋值操作时，才会使这个变量成为一个全局变量，在赋值操作之前这个变量不可用，会触发reference error错误，即该变量未被声明就使用。")]),s._v(" "),n("p",[s._v("例")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" x "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        y "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 运行这个foo()函数会出现什么情况呢")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 很多人认为这个程序会正常运行，认为y也会被提前声明，实际上这段程序会报错，y is not defined")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这里只有x会被提前声明到foo作用域的顶部。然后程序开始执行，执行到 x = y这一步，会查找y，逐层向上查找，未发现y的定义，注意这里是取值操作，所以这里并不会把y声明为一个全局变量。所以这一步已经出错了。")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 只有在y=2这一步执行后，全局作用域中才会新增y变量")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])])},[],!1,null,null,null);t.default=e.exports}}]);