<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>使用require.context实现自动化操作 | 曾经的你</title>
    <meta name="description" content="看一看世界的繁华">
    <link rel="icon" href="/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.b5500b79.css" as="style"><link rel="preload" href="/assets/js/app.32a77fa1.js" as="script"><link rel="preload" href="/assets/js/5.3db1e33a.js" as="script"><link rel="preload" href="/assets/js/1.1263133a.js" as="script"><link rel="preload" href="/assets/js/13.aef896cf.js" as="script"><link rel="prefetch" href="/assets/js/10.6bf92a39.js"><link rel="prefetch" href="/assets/js/11.d1839701.js"><link rel="prefetch" href="/assets/js/12.717defdf.js"><link rel="prefetch" href="/assets/js/14.f481325a.js"><link rel="prefetch" href="/assets/js/15.77b15318.js"><link rel="prefetch" href="/assets/js/16.b08e42b8.js"><link rel="prefetch" href="/assets/js/17.6d1a0e09.js"><link rel="prefetch" href="/assets/js/18.e6be9a62.js"><link rel="prefetch" href="/assets/js/19.da1f1a70.js"><link rel="prefetch" href="/assets/js/20.f7120a5d.js"><link rel="prefetch" href="/assets/js/21.7c3b52a5.js"><link rel="prefetch" href="/assets/js/22.94ab8097.js"><link rel="prefetch" href="/assets/js/23.d74a2a32.js"><link rel="prefetch" href="/assets/js/24.f770a461.js"><link rel="prefetch" href="/assets/js/25.a9bc2877.js"><link rel="prefetch" href="/assets/js/26.7153c46a.js"><link rel="prefetch" href="/assets/js/27.5a94d914.js"><link rel="prefetch" href="/assets/js/28.2557607b.js"><link rel="prefetch" href="/assets/js/29.c8d7094b.js"><link rel="prefetch" href="/assets/js/3.04f17590.js"><link rel="prefetch" href="/assets/js/30.7aa5ce47.js"><link rel="prefetch" href="/assets/js/31.23b894b7.js"><link rel="prefetch" href="/assets/js/32.bcde2786.js"><link rel="prefetch" href="/assets/js/33.ff121c8f.js"><link rel="prefetch" href="/assets/js/34.704c2113.js"><link rel="prefetch" href="/assets/js/4.7ab9b31c.js"><link rel="prefetch" href="/assets/js/6.92ee8563.js"><link rel="prefetch" href="/assets/js/7.6650276c.js"><link rel="prefetch" href="/assets/js/8.eda84085.js"><link rel="prefetch" href="/assets/js/9.2c11c80b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b5500b79.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container"><div><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/head.jpg" alt="曾经的你" class="logo"> <span class="site-name">曾经的你</span></a> <div class="links"><div class="color-picker"><a href="#" class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox" checked="checked"></div></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      文章
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/随心.html" class="nav-link"><i class="iconfont undefined"></i>
  随心
</a></li><li class="dropdown-item"><!----> <a href="/category/笔记.html" class="nav-link"><i class="iconfont undefined"></i>
  笔记
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关注我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/huih99" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      文章
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/随心.html" class="nav-link"><i class="iconfont undefined"></i>
  随心
</a></li><li class="dropdown-item"><!----> <a href="/category/笔记.html" class="nav-link"><i class="iconfont undefined"></i>
  笔记
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关注我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/huih99" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>使用require.context实现自动化操作</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/views/record/2019/%E4%BD%BF%E7%94%A8Require.context%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E5%AF%BC%E5%85%A5.html#如何使用" class="sidebar-link">如何使用</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div><main class="page reco-hide"> <div class="page-title"><h1>使用require.context实现自动化操作</h1> <hr> <div data-v-0b496ca7><i class="iconfont reco-account" data-v-0b496ca7><span data-v-0b496ca7>tanhui</span></i> <i class="iconfont reco-date" data-v-0b496ca7><span data-v-0b496ca7>11/28/2019</span></i> <!----> <i class="iconfont reco-tag tags" data-v-0b496ca7><span class="tag-item" data-v-0b496ca7>
      js
    </span></i></div></div> <div class="content__default"><h1 id="使用require-context实现自动化操作"><a href="#使用require-context实现自动化操作" aria-hidden="true" class="header-anchor">#</a> 使用require.context实现自动化操作</h1> <blockquote><p>require.context是webpack提供的一个批量引入模块文件的api</p></blockquote> <h2 id="如何使用"><a href="#如何使用" aria-hidden="true" class="header-anchor">#</a> 如何使用</h2> <ol><li><p>语法： <code>require.context(directory, useSubdirectories, regExp)</code></p> <ul><li>directory{string}: 需要遍历的文件夹路径</li> <li>useSubdirectories{Boolean}: 是否遍历文件夹下的子目录</li> <li>regExp{RegExp&gt;}匹配文件的正则</li></ul></li> <li><p>require.context的返回值为一个函数，该函数有三个属性(注意是函数的属性),同时此函数也接收一个参数&lt;模块名&gt;，通过模块名导入模块并返回导入的模块（跟import导入方式导入的模块一样）</p> <ul><li>resolve {Function} -接受一个参数request,request为文件夹下面匹配文件的相对路径,返回这个匹配文件相对于整个工程的相对路径</li> <li>keys {Function} -返回匹配成功模块的名字组成的数组（也就匹配成功的文件名），其中的值也是作为require.context返回的函数的参数</li> <li>id {String} -执行环境的id,返回的是一个字符串,主要用在module.hot.accept,应该是热加载</li></ul></li> <li><p>实际应用</p></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 遍历src目录及其子文件夹，找到所有以index.js结尾的文件</span>
<span class="token comment">// src目录下有一个文件index.js</span>
<span class="token keyword">const</span> req <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'./src'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token regex">/index\.js$/</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['./index.js']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['./src/index.js']</span>
<span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token function">req</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//module即为导入index.js得到的模块</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>业务中的应用</strong></p> <p>例如在vue项目中，导出路由文件注册，对于一个大型的项目来说，路由配置文件肯定是需要划分为好几个不同的文件，但最后注册路由时，需要将所有配置文件中的路由信息到导出到一起集中注册，那么这时候require.context就该派上用场了。</p> <p>有如下路由文件目录</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAACuCAIAAADIy0O7AAAde0lEQVR4Ae1dDVyUVbo/KKKCrCgCKaWDhpqYJFSEiqXtegPC2ttlQ4zBu4uGsMWqhJdadYOMG7p6qRXdsHtlWEF3tlvJgpu1uonKdV1QU9vQlMF+aGAoOswoinaf837NyzDDfDAD877zzO/9zZz3fDznnP8z/3nOxzvn8QgJDSN2vQLHjL52/cadO112le6/QsqC0gSyNzF3V/9ViTUhAv2FwKD+qgjrQQQQAccj4CF7C+x4zFAiIuAyCKAFdhlVYEMQAdsRQALbjhmWQARcBgEksMuoAhuCCNiOABLYdsywBCLgMggggV1GFdgQRMB2BJDAtmOGJRABl0EACewyqsCGIAK2I4AEth0zLIEIuAwCSGCXUQU2BBGwHQFP24sMZIkFivFBPt5GLfjyyvcnW783isRbRMAdEJASgYG62Y9HtOj1LTq9oJsZAWPKznyNBBYAwYBbISAlAivDpoJuNv69XkzXfT973q0Uhp1FBMQIuCKBwwPHbHhqjtDKIw99c+Sh896dXuNPeJFmIk4S8mAAEXBPBFyRwKwmPtNc/E6nb4m+0vDjC8PahnaN7jo+8eLjbzwCYbGqFoSMF986M5xUWBFLqlNzypxZCcpGBGxBwNGr0KFJ63+TMt14mcnQIp+n0gtff2GyIaJb6KeTJ8EVc/84iL3Z1dVx507zE61ebV7TcsKm/uYhiPw2qgUiheujs+fF8+FusvAGEXADBBxtgZsvdQT94vX8IUVr/vuoYaWJA5Ky9+fRXic+aDaDbNfde69EhrOJCx+cCIEtQ66cHdHys7khF8dcPU3Io54PzH7oQf+hQ9g87bc6zUgyRLMnclSS2AQF0dVtW7KxFtLmZG/NiuR/ZjSG8zpovP8XhuM7YlbuyAhtKF5eoMhTx02gQuNK1XGkkbfDVLiCRhOir4dsNWw4Ovf99AhfNiyOZ2PwHRFwGAKOJrD+YMEqkvvbX2TlEyMOM+x9lBz74FfvHdSZaf+x71qMUmb988ETE7/9j9QPIX74ba8bR0au+1YTN85/XpDfdS+/wNDob4bDiNrSHpIidnp1amIuJ5thXVPlorUqGkHJpn5/XNGyTYe4dFMfZWsTy4yH0NxhPYuYw3pS8tQZW3MJ5bCyID2ibW/iMho/JzsvxpQ8jEMEHIKAowkMjTLFYZ69qhzz7IWiMOk9d609dJSf0LeZF8avrUg4Puki+X5o5OXgbweTs16d1Zfabo2e+N7YFOJPM44e8xNyJlUoYiKgPblHmLjGrJyvAKvIshfy1haURYOZjYkhhzj7aUKAiSgqB34F+KO2yvbWx6RPiYomNSTYn+jONrFFDm1c29vvggm5GIUI2ICAo+fAbNWUwx+c8n4yK//nUd7ESvayRXsa4Qe+H+350QP7dnu2XRr0xJgf5c0IeUkRdHDs/KC72s3t/7uw7eDVEff/EMwNvE13ve2SgUUKPx/tuRoxV2tqG7TeoxSmi5qNBTlkQkJFqZq7hDFzbUFNk09kuroiT2m2MCYgAo5BwAkWmG2YYIf/M/SaXwA5ZsH2Cr05drk1+aEpwi0bCPX1DvW9qe+6x94CjcHw3XfvxiO3m9vv3d5jlLvfbrUnTQ+86XibmWZXwIGYwli935qFFbkRAs6xwCyAjB2uJ363rWYvlDvzfZv29m0jDUyPanz91dNPLz4y7LG/H22/uu6UJrDzyskhwStG/eu2gDiaWWs8eTaSYLjVtOt86YDZ8IqJnuKrv6bhI/zHGfagqZk18+opp3vGQxuXJy7a20gmTE/pnoB3iIDjEHAmgaGV+oMbX12+otd5b8++NFy9Jo70vO874K3H0NtwDZ32VdiMFn3X3WdbD/zLrX/+QO2w9tmvP/C48Z24SG/hmk37Nd4RGcL4Njo3JdxH8wW7gHzo6Dmdb/hCjnJJhezKMyeu6ZqWBAZFc3fMwDsiZaXAdmUBKzM6t8AQ2VtLMA0R6DMCrnisLGwgPT3hfqFr90c3wHVsS+zdziEz0z7rvOF9fNesoYM8hAxA+OLjp4RbowC3Vtz9YHfR9o9hb4ktKNphaqosbp/PbiOxc2ZYamYozW8jibeLBDndIvmcRo3CW0TAMQi4IoGNepb0XOeKZTfzNnl36D0Kf62r+twrbzO/hWuUFW8RATdDwGmLWI7DERib9Hzn2pX0uZAOncefP/dynGyUhAhIGwEJEFir80j5pW/oxLuA9OXWQZdbnDxvl7ZCsfXuhYAECAwKAQ7Xn5JGU93r64O9HWgE0JoNtAawfkSgDwgggfsAHhZFBAYaASTwQGsA60cE+oCAswgcFflwH1qFRREBRMAqBJxFYKsqx0yIACLQNwSQwH3DD0sjAgOKABJ4QOHHyhGBviGABO4bflgaERhQBJDAAwo/Vo4I9A0BJHDf8MPSiMCAIoAEHlD4sXJEoG8IIIFN4QenyVZszRWf2mEql/Vx8Pdj9fv4L3/rAcOc1iIgQwL7jvgBLmsBwHyIgJQRkDaBH5tx5/SnV3dsuMGqYP6s25+q2ms/vAZX0bqO/qYxnNdh5iRKVW5qYu/nTkv5O4RtH0AEpE1gMXDBQffWr9LBe8OFwfD3w6dn3c586aY4A4YRAfkhIJ8/2Y4LugsmF9j7wvKREAACf7yvmxs0s8rjT7qiGbqdFEtdMYQwxQSfLPSO+lsJ506r5PMLh2zBSdE9j5Ltdi6XqeJMJfiGCNiMgHwsMNv1cYH3nvtJp7bDw0r2whF26riA+uLUxEVwbatvExCEkyunnaaRqYnVcFC7UljTUsb57WfjIT8JzypIgjJ0kFwN3hjgFGgoIrh9EKQJgaTCjPBW8PNCs4mrEzJgABGwAQH5EPjYl0P+8aUn2N712TqYCQONrYAhaWGkd2O14JSstiDX4CGpsZrnIbhN0XpTtynMS5XLx5PamrN6Ij5H2mKVMeMCiXAGdbfqLBbFDIhATwTkQ2Do2ytv+hb/YThMgOl8OFv31ipzTtR4HCidmk4LbpP4aOZToFm3WPaGbgsxHlUMLg5N5DIVxZ1KXapm7LapHBiHCNiAgKwIDCPn4rLhC5R+QGPA4PkFnVMn0aPwHPmiW8Qwy93LjIFTi+p6+FC1VBkdbMPg2T+W/gQgjS3Bhem9IyBJAoOBZZkp3iiCcMZLN+GdpTEMp6HnUyd19db/mkutNro+mRMV6gMLV92Pie+tCtNptQXLmDmzYho6QDONEMZah4D0CAx7v38qvv7Wqg6gK1zQzeaWwfD+3jptRspNSILI1en6R2dQ6n59vvdl9l176vQhccJDV5a9ohxquUJ8/Say4MasTBO8hEMMeEsiAcH881t0eazntnDMysJs3jkLKwTfEYE+IND797sPgp1WFBarLrUOAgs8dRJlL8x4YdgMAZgAf1h8HYwz0Jit/JPPhn59nnK7lxe4ICPZW7MyStUZNBdsFxX0khuSytZWTitl9oronlNlnT5hMl8A5rdxpQlUFPVIeIGPNvoMpJ5H05lIdFxohA3e2oyAs1yrwJlYR+vM+iuyuZk9CoAdfiy861LLoL8e8YIxs5DOxsPt/iNeFtkrlHJ2ABa95rdtW7Kx1tkVoXx3Q0B6FpjVENhhuHpqy1x8z5z9GBMd7E+IYYe5H2vGquSOgPTmwNLTSEpshG/TfjS/0tOcBFosVQssAWgJ4T2V6uuLl6sk0WJspNQQQAI7UWOwQnbIieJRNCJAcAiNXwJEQMIIIIElrDxsOiKABMbvACIgYQQ8fUaMtK/5XkOHe/uQri6zDxvbLdm+9mApRMANEUAL7IZKxy7LBwEksHx0iT1xQwSQwG6odOyyfBBAAstHl9gTN0QACeyGSscuywcBJLB8dIk9cUMEZEhgX597cLmhLrHLboiAtAkcEXbr6IeNW/Mus5p78nH9x1u//VzVBFfh6hZraKx8p1y9/Y05Nms+Pnd7+Y6ceJvLGRVQblDv3p471ygWbxEBaxGQNoHFvRwb2LXml1fg/ZzGq0M/CMic9uI1cQYMIwLyQ0A+/0YaG9AFJhfY+9KqYAgAgf98YIRFhalWJ6ssZnJeBtVriQNZvfM6hpL7CQH5WGAWsPsCuuKf6tDqBlnD3n7CGKtBBJyGgHwscP2ZYXDBrHjtK1eWvnitZPeoqr9ZtsAwB04gBxJXlwDCbLioLYo/rr258sXXDAZy7hs7MsNYl0i6ugMN3VVCyyrYKH39lrSCg4Qw+UndziWFVTSBuW2tSs4xSIQqN6jjCVeLSD7RnilKW4//JWYBxfdeEJCVBc55J2j7H/1gAgwzYaAxTIl76bnpJMW8NPJR4ovJiS/urNcGJ7yzlMvG049JSt7vPy/C1yCA+xWgpZITq65FZDLrUgfXL6lq9ol8ijn5OT5XGQZk7sZegwAILS3MDAN6c1XjAVrdwMEbswjIisAwcgbD+3z6A0Bj6PGz8zomh9w223WTCdoz21mDSaoKDjYTxWSGfkQZH+ajOSDQT7Ua6M2Xn/vGfEVzJWPDaZTqb9SR0hPMAjUNB8/PiZ+T89MIIkjmC4o/5waKfCZVFaxG8ytGB8NmEZAkgcHAsswUbxRBOO1n7fDO0hiG09DpyQobCdzWamrgGg/HSjaeocNsEy+Fnw8JTthdruauxSLjXFWgOkMiF2dFknpVr5w8uH6/xjsis1wt2HwTNWEUImCMgPTmwDDLhT3ey62eX/zd58nHqfsyCMM7RELSs/O0fz7gCzSGMESe1XgZ99gZ971MWQ+2tmaGsU6Ge6+ZWQ+H7eXF6t3ziIablvdeBFMRAelZYDCt313xBAsMK1XwDjPekj+OAkXCBBjiwThDfNKz1yGm6sCIs40OI3BIGD8fpt+acaOEOTB4VPENiTHzMIbynXmBdTuL6kiE0prHRaoK0mAWbRi606rwhQiYR0B6BIa+wE7v8rVjYaKb/7sAmPGyFhhGzs+lP8DGQ1JKdnDe7wLMd9ymFHY+PK+QnRDT9ep5BqN68ESD1lvMT+U7G9iMc3K2Jyia9xdWHSo82ugblsY+uQXrYbvLBVFcO+a+Udj357ps6hNmlgUC0htCs7Czm0Y9VWAuvmdO22LgiQsCWz7lsOsDr8aqnfX+i6dwIsBsEhj6Zu0uz2JidLB1BAHlBtiOaqxKU9HIkpyqyer4xYXKqhwNve/5CoyEwfNiJr779lXPrBiDCPAIeEyfOYsP2/Y5auQIre6muTOxpk8Zf7rhom0S3TA37APPbcctXzfUvKO6LMkhtKM6P+By5txHZ+/4QgTsRgAJbDd0fS+4dCGMsQ/2ur3U90pQgqwRkOocWNpK4Z+apLNlZoos7e5g6wcOASTwQGAPT1keHIh6sU7ZIYBDaNmpFDvkTggggd1J29hX2SHgqeugDy3Z8fIZNlivu3HnTpe5snZLNicQ4xEBRMAIAbTARoDgLSIgJQSQwFLSFrYVETBCAAlsBAjeIgJSQgAJLCVtYVsRASMEkMBGgOAtIiAlBJDAUtIWthURMEIACWwECN4iAlJCAAnsFG0pC0rVBUkWRMes3FGxNTfGOBct+/5K2729GMvBe3dAQIYE9h3xA1zuoDzsIyIg7T8zPDbjzv9s0P7jS88lr/0IdDl/1u3V6frgoHsQ/usRr1//1kfb4SE5HatyU1WSazQ2eIAQkI8FBt6uX6WD94YLg7U6j6dn3c586eYAoYrVIgL9hIC0LbAYpHFBd2HkDOx9YflICACBP943VJzBZBgmnAlkbyWJZR2j6Oq2LdlIct9PZ892Zm5rDQVT8tRxE7hb7cmiZZsOGdKSCitiuZPuNCCw22tO9lbeXQtprE7NKeuWanTDNikxdxeNh3lyRjjrz4UY12hUDm/dEQH5WGBWe+MC7z33k04YOVvDXk7hitjpX6UmLkpNrG7yiUxXV6SPqhFulcIiE5BQHRdQX8wkLUqtbAvPqsjjj6mk7A2s20aFLEotanuS95NEa6DsnXyuiElKLD4ZGFdamMLVbOkjqTAjvLWarXFbPfpbsYSXG6bLh8DHvhwCk2GwveuzdZ+q2oHG1qpTs5cziWV7qcOUbrfeU6KiGTlJ9Pib6uUFNZxUVe7eRjJhOkPFOdlPhmhPbt/I2epDG5dXaoTKoSCpL+Ntdc2m/RoSMs3SAjVbOmacyN9KbUEuL0SQjQG3R0A+BAZVvvKmb/EfhsMEmM6Hs3VvraJ+G2x96dqaTBShXGo63W3ou+u0hgQGUXpP9PfWna0VDadFAmhB74iMUnUFd4mNsyifqSBlO1PW4o6UqdIY5w4IyGcODNqCkXNx2fCyj4al/PRWxks3n1/Q+YePh319fvBAK7KpctFalV2NYFako2FOrq6IhaEBNzG2SxQWkiUCkrTAYGCnTroL+hDv90IYSAvvLI1hOA0Zpk4ye96AbeqsudTKD5j5gknTFaS1hRs2+0yOFj16EQ3O0LiXiYJ8krWftQXL6PycKKbxU25rS2I+2SMgPQLD3u+fiq+/taoD6AoXaKi5hdrY99ZpM1JuQhJEwm7wozModb8+76ghxq49dfqQOMODU8qCWJj37mEG1arqkzrf8LRsdrYMq1ZKkYNCOtIOiROWuyA1T1gYE75edIXMsCTGR8esLORl8lH4iQh0Q8BR3+9uQp16A4tVl1oHgQWeOomyF2a8MGyGAEyAPyy+DsYZaMw24JPPhjpw/AxLUwTWk2E2m8GIhwHtMmanB+5qNi0hsN9DV7DhDjafKjXpCWwjwGFwbiqBzaoK2K9iXlCwhk+z9BnIrIozuewfh1uqBNMljIBHSGiYfc0PHDP62nWzZ2JFRT58tO6UfZKtKQV2+LHwrkstg+CJK/HjVmw8SNh/xMuB7LWmSY7KA/vA89tgO1q0/+wo0ShHdghIzwKzKgA7DFdPdZiL75nTVWOY+XObq7YO2+ViCEhvDuxiADq6OSmxEb5N+9H8OhpXucqTqgWWnz74xy319cXL7dtzkh8m2COLCCCBLULUTxlgkexQP1WF1cgHARxCy0eX2BM3RAAJ7IZKxy7LBwEksHx0iT1xQwSQwG6odOyyfBBAAstHl9gTN0QACeyGSscuywcBJLB8dIk9cUMEkMBuqHTssnwQQALLR5fYEzdEAAnshkrHLssHARkSGA7lEJ/UIR9dYU8QgR4ISJvA8O/f059e3bHhBtsv8MwA51HWfngNrqJ1HQNMYzhEuuchGz0UYEcEOk+yAzS5FpE2gcVaoSdRomcGMSIYdgME5PNvJPs8M7iuiqkXCGLyOEt0nuS6Wuv3lsnHArPQ2eOZod9BxwoRAUchIB8LDIfpwFGycBglHOkO59rBSXdwqJ1FmDhHRF9N450e0f/Tc+4XqF+i0Ibqc1PiwDuRcKacyAcSEWVmaqLSFGydTZXVhsrpn/X9vzCc6sxKFioi9ORn4SBLcJ50ehonhzkKT6iaE8i1GZ0nGQB235B8CAw6hIMp4Uh3uFjPDI/N6AIPo5Z1q4hVk72Ji9ZCTsq0jK25hOcwOFWIIeDWiPurPeNqjIAPJPbIGxjlZpQWKjhnZZRX/ieLFjEOUNicxJSTB+MGMb8IwhmXKXmFzEGWKvNDaJEAznkS4xomOreAO9dWlAGDMkdAVkNo9kj3BUo/cLACegPPDOz57xZ0CF7/WGtGyKGNqnqt4A+JlmusMXgkUoIp1uw1nBdZthZ8IHGOjmJWzlfoxT6QlsBR7Fa8WL9KQgNI2drefRd2E4nOk7rB4Y43kiSwgz0ztF3iDCz9AtQ2txEff96HKNFf0whfC3peZONX/FnQTLTqqybiP476ZFD4+WjP1Vh94LMgtDe/SkImcwF0nmQOGbeJl94QGvZ+313X0dwyCE5+ho1f0JTgmQEmwM8t6Pxk31DYAXa0ZwYX/Uag8yQXVUx/NUt6FhgWq1jPDLBSBSNksWcGOOed9cwA02AA0C7PDNTjkZGZ5XVBjbORZ1DltAlEMOC+oTExfF6YTgcFGG4gxBpqNgrMNZ92oU3f3a8Sn2DDJzpPsgEsmWWVHoFBAS8sH/nvr1FPorBGBTNesMYQCRNgCLPxkPRvGSPf2CjQpFetKWJ38C6IqMcjYzeihrLUB5IoM0nJS4B5bzUzqKa+hb0jUlZyLs5iVqZFegslDx09B86TFnJ+vZMK44QhOsy6v2j0Dc8SHIjCIhabTdOuIwHB/C8COk8SwMSAGAHpDaHZ1pvzwGAuXtxn47Bm735/zq0RMWwXGeei9919IDGZhTOcwQwS2A3KqijNgpywMFbdlBXHC6nZtD1qa1ZcKTybQUsVnwzMCOXTduUsIoUVsdSBKH3BphHzCfPbuNIE6oqJbiNdYOJ6vqHzpJ6YuFWMVH0jOUpJ3fZUHSXUyXKgzeg8yckYS0a8JIfQkkHXKQ0VOR92inwUKiUEkMBS0hZtKzpPkprGnNpeqc6BnQqKawpH50muqZeBbZW7z4EHFn2sHRHoIwI4hO4jgFgcERhIBJDAA4k+1o0I9BEBzyFDvOwTMXjwYKas2Z8AuyXb1x4shQi4IQJm6eeGWGCXEQHJIYAElpzKsMGIgAEBJLABCwwhApJDAAksOZVhgxEBAwJIYAMWGEIEJIcAElhyKsMGIwIGBJDABiwwhAhIDgEkcD+oLCpnS0l5fmI/1IRVuBsCMiSwr889uNxNkdhf90RA2v9GevTh2yUFV+tOeaXljgb9zXviVvZSLfhYgfCB2mHr/utHWp0r/EIdLcw86p5fL+y1sxFwhe+3Y/oIvH1zxQ14P9vo2aHzmBd9K31xh2NEoxREwFURkLYFFqM6LvAujJyBvS++MgYC86I793xOj3fv9QWz0zS/w0tfL+dyzV5RlPng+S2Z7x6mETT1EV82SX/i91mFTCzNM5M7sE7zF77s7FdLXp507i/nQ5952IdcrFLm7+REcnJCv9m+dDNjh5PXlD8znkts2pe8Rm3IiCFEwEYE5ENgtuNjA+8lPH2z8q/DrWCvBagW56c9cnVfciYl2OwVa2Yz2TmGKxmGU9KWvE14DhPvR2aTLcqlDM3NCIciz4w58fulzG9B4tv5ZrJhNCJgHQLyGUL/45QXTIbB9uatuF71wRWgsXUImMsVFTya6K5eZJMPb85nKRc/k5woZ+0zIYff/VsTUTxkWF7WHOaTzEmdMNKHfN/MUVz9Oppfc0BhvHUIyIfA0N8Vb/n9vnwETIBhJgw0fvNX160DwWSuo4WHL/rMTCtXrVkspM8eGwBm9uWSchV3xRsOeIZM+naL7pDK953Qjo9XlZSsiBKkYgARsBsBWQ2hYc15W/mInZ94L35O/3Jyx8If3yzf491wYYid6JTnJ5fD4LkoU1USb5jWGs1vbZXNrkgnvq2Cn4Y03XF+YmyrGMyPCDAISNICg4GdMvEOtF+83wthIC28szSG4TRkmDKxy6KiA4IMxlAx2uBOgS14eHNWsnKfhowPS4Yx8+UrbMCiUAsZ1K8rl245rvd5MIqdWlvIjsmIgBkEpEdg2Pvd9W7bm7+6AXR9OVkH/brUOhjeN/+6PT25A5IgHnaDIx+mfs8aLvQ+xDh6+Bu9z8wF3CA5eY1oSByVk/9qD3apz8Ck9xnDoBoWt3J6ZGKhXpxfUr6lh4TkNW/DDwG+EAEHIdD799tBlThUDCxWXW4dBBaYNcIw44VhM9QAE+Dd77WBcQYasxXCWrTF8fPhzeWzt6TBpDQeyjTt23J8TOaDfHNHPwyD50zmTtgu2rlmKckv4fIzRZJ7W3TmRYk+Fc+UlD/D3GtP8ftVomQMIgK2IOAxedpMW/Ib8o4ZPfK6VnfnjukxasSMKfVfNhhyOzoEdhgusL0HaoeKH7di46G2A/831CJ7Hd0oc/KMd5vN5cN4RMBWBKRngdkegh2Gq2dvzcX3zNmPMeP9uKdB+rFOrMo9EJDeHFhyepm9Yo5Ce6qKf9hLcu3HBrsyAlK1wK6MqdA2WMdiVsVg58nSAx5CGQwgArYggAS2BS0b88KK104bi2B2RMAmBHAIbRNcmBkRcC0EkMCupQ9sDSJgEwJIYJvgwsyIgGsh4HnnDn1iyY7X3bt3oay5feCjdafskIlFEAFEwCYE0ALbBBdmRgRcCwEksGvpA1uDCNiEwP8D7sic4YAdLNgAAAAASUVORK5CYII=" alt=""></p> <p>如果不使用require.context的方案，则需要手动引入每一个路由配置文件，如果后期又有新的业务范围划分，那么势必得新增新的路由配置文件，同时又得在index.js中手动引入</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// index.js</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> chat <span class="token keyword">from</span> <span class="token string">'./chat'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> model <span class="token keyword">from</span> <span class="token string">'./model'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> product <span class="token keyword">from</span> <span class="token string">'./product'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> user <span class="token keyword">from</span> <span class="token string">'./user'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>chat<span class="token punctuation">,</span> <span class="token operator">...</span>model<span class="token punctuation">,</span> <span class="token operator">...</span>product<span class="token punctuation">,</span> <span class="token operator">...</span>user<span class="token punctuation">]</span><span class="token punctuation">,</span>
  mode<span class="token punctuation">:</span> <span class="token string">'hash'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>使用require.context的话，就方便的多了，不用手动引入路由配置文件，且后期无论是增删配置配置文件都能自动导入，如下使用：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>
<span class="token comment">// 遍历当前目录中不以index.js结尾的文件</span>
<span class="token keyword">const</span> req <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token regex">/(?&lt;!index)\.js$/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 导入所有路由</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">routes<span class="token punctuation">,</span> moduleName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">req</span><span class="token punctuation">(</span>moduleName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> routes<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>default <span class="token operator">||</span> route<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> routes<span class="token punctuation">,</span>
  mode<span class="token punctuation">:</span> <span class="token string">'hash'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></div> <!----> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/25/2021, 3:12:46 PM</span></div></footer> <!----> </main> <div class="valine-wrapper" data-v-0162251c><div id="valine" data-v-0162251c></div></div></div> <div class="back-to-ceiling" style="right:1rem;bottom:3rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-d0bfeaa4 data-v-d0bfeaa4><i class="iconfont reco-up" data-v-d0bfeaa4></i></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.32a77fa1.js" defer></script><script src="/assets/js/5.3db1e33a.js" defer></script><script src="/assets/js/1.1263133a.js" defer></script><script src="/assets/js/13.aef896cf.js" defer></script>
  </body>
</html>
